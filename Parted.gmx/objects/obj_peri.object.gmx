<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_krenkus</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_interactable</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>nyeh = true;
speak = true;
mood = "idle";
global.paused = false;
hsp = 0;
vsp = 0;
interact_script = peri_interact;
priority = 10;
playerattack = 0;
global.peri_tree = -1;  //The status of Peri's talk tree
// initialising quests
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>nyeh = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>speak = false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mood = "idle"
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
runningaway();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dialogue Options
randomize()
switch(global.peri_tree)
{
    case 0: 
        if(keyboard_check_pressed(ord(1))) //Sale?
        {
            global.peri_tree = 100;
        } 
        if(keyboard_check_pressed(ord(2))) //Questions
        {
            global.peri_tree = 1;
        } 
        if(keyboard_check_pressed(ord(3))) //Goodbye
        {
            global.peri_tree = 101;
        } 
    break;
    
    case 1: 
        if(keyboard_check_pressed(ord(1))) //Who are you?
        {
            global.peri_tree = 2;
        } 
        if(keyboard_check_pressed(ord(2))) //Directions
        {
            global.peri_tree = 3;
        } 
        if(keyboard_check_pressed(ord(3))) //Coin
        {
            global.peri_tree = 4;
        } 
        if(keyboard_check_pressed(ord(4))) //War?
        {
            global.peri_tree = 5;
        } 
        if(keyboard_check_pressed(ord(5))) //Nevermind
        {
            global.peri_tree = 0;
        }
    break;
    
    case 2: 
        if(keyboard_check_pressed(ord(1))) //Sale
        {
            global.peri_tree = 100;
        } 
        if(keyboard_check_pressed(ord(2))) //Coin
        {
            global.peri_tree = 4;
        } 
        if(keyboard_check_pressed(ord(3))) //War?
        {
            global.peri_tree = 5;
        } 
        if(keyboard_check_pressed(ord(4))) //Enough
        {
            global.peri_tree = 0;
        } 
    break;
    
    case 3: 
        if(keyboard_check_pressed(ord(1))) //Krenkus?
        {
            global.peri_tree = 7;
        } 
        if(keyboard_check_pressed(ord(2))) //Inn?
        {
            global.peri_tree = 8;
        } 
        if(keyboard_check_pressed(ord(3))) //Market?
        {
            global.peri_tree = 9;
        } 
        if(keyboard_check_pressed(ord(4))) //Capital?
        {
            global.peri_tree = 10;
        } 
    break;
    
    case 4: 
        if(keyboard_check_pressed(ord(1))) //This is a robbery
        {
            global.peri_tree = 11;
        } 
        if(keyboard_check_pressed(ord(2))) //Hands up!
        {
            global.peri_tree = 12;
        } 
        if(keyboard_check_pressed(ord(3))) //Nevermind
        {
            global.peri_tree = 1;
        } 
    break;
    
    case 5: 
        if(keyboard_check_pressed(ord(1))) //War Profit?
        {
            global.peri_tree = 13;
        } 
        if(keyboard_check_pressed(ord(2))) //Join Army?
        {
            global.peri_tree = 14;
        } 
        if(keyboard_check_pressed(ord(3))) //Questions
        {
            global.peri_tree = 1;
        } 
    break;
    
    case 7: 
        if(keyboard_check_pressed(ord(1))) //Krenkus?
        {
            global.peri_tree = 7;
        } 
        if(keyboard_check_pressed(ord(2))) //Inn?
        {
            global.peri_tree = 8;
        } 
        if(keyboard_check_pressed(ord(3))) //Market?
        {
            global.peri_tree = 9;
        } 
        if(keyboard_check_pressed(ord(4))) //Capital?
        {
            global.peri_tree = 10;
        } 
    break;
    
    case 11: 
        if(keyboard_check_pressed(ord(1))) //Give me all your gold!
        {
            playerattack = irandom_range(1,2)
            if playerattack = 1
            {
            global.peri_tree = 15;
            }
            else if playerattack = 2
            {
            runningawayfromplayer()
            global.peri_tree = 15;
            }
        } 
        if(keyboard_check_pressed(ord(2))) //Die!
        {
               playerattack = irandom_range(1,2)
            if playerattack = 1
            {
            global.peri_tree = 12;
            }
            else if playerattack = 2
            {
            runningawayfromplayer()
            global.peri_tree = 12;
            }
        } 
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Krenkus Dialogue
if(speak = true)
{
    draw_set_color(c_white);
    draw_set_font(fnt_standard);
    switch(global.peri_tree)
    {
        case 0: draw_text(x - 64,y - 32,"Hello there traveller, how may I assist you?"); break;
        case 1: draw_text(x - 64,y - 32,"Then ask away..."); break;
        case 2: draw_text(x - 64,y - 32,"I am but a humble merchant."); break;
        case 3: draw_text(x - 64,y - 32,"Of course, where do you want to go?"); break;
        case 4: draw_text(x - 64,y - 32,"What do you mean?"); break;
        case 5: draw_text(x - 64,y - 32,"Many soldiers and travellers come and go..."); break;
        case 7: draw_text(x - 64,y - 32,"Ah, Krenkus, the village mad man, he can be found lurking the streets during the day."); break;
        case 8: draw_text(x - 64,y - 32,"Just up the north side of town, the Warm Hearth Inn is it's name."); break;
        case 9: draw_text(x - 64,y - 32,"The market lies in the middle of the town, it shouldn't be hard to spot."); break;
        case 10: draw_text(x - 64,y - 32,"The capital lies south of our village."); break;
        case 11: draw_text(x - 64,y - 32,"Oh dear! What are your demands?"); break;
        case 12: draw_text(x - 64,y - 32,"Wait! Please don't kill me! I'll... I'll give you anything!"); break;
        case 13: draw_text(x - 64,y - 32,"I will admit, I've never made more money in my entire life ever since the war began."); break;
        case 14: draw_text(x - 64,y - 32,"When I was young, yes. But I have already been exposed to the brutality of war and do not wish to have any direct involvement in it."); break;
        case 15: draw_text(x - 64,y - 32,"Here! Take it and leave me alone!"); break;
        case 100: draw_text(x - 64,y - 32,"Take a look"); break;
        case 101: draw_text(x - 64,y - 32,"Goodbye then..."); break;
    }
}

draw_self();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dialogue Options

switch(global.peri_tree)
{
    case 0: 
    draw_text(x - 32,y + 32,"1. What have you got for sale?"); 
    draw_text(x - 32,y + 64,"2. I have some questions."); 
    draw_text(x - 32,y + 128,"3. Nevermind..."); 
    break; 
    
    case 1: 
    draw_text(x - 32,y + 32,"1. Who are you?"); 
    draw_text(x - 32,y + 64,"2. I need directions."); 
    draw_text(x - 32,y + 128,"3. That's an interesting amount of coin you're carrying."); 
    draw_text(x - 32,y + 164,"4. How goes the war?");
    draw_text(x - 32,y + 200,"5. Nevermind.");
    break; 
    
    case 2: 
    draw_text(x - 32,y + 32,"1. What have you got for sale?"); 
    draw_text(x - 32,y + 64,"2. You must make quite a handful of coin then."); 
    draw_text(x - 32,y + 128,"3. How goes the war?"); 
    draw_text(x - 32,y + 164,"4. Thats enough questions for today.");
    break; 
    
    case 3: 
    draw_text(x - 32,y + 32,"1. I need to know where a man named Krenkus is."); 
    draw_text(x - 32,y + 64,"2. Where is the closest inn?"); 
    draw_text(x - 32,y + 128,"3. Do you know where the market is?"); 
    draw_text(x - 32,y + 164,"4. I need to get to the capital.");
    break; 
    
    case 4: 
    draw_text(x - 32,y + 32,"1. I mean to say that this is a robbery."); 
    draw_text(x - 32,y + 64,"2. Hand over your coin! or I cut you!"); 
    draw_text(x - 32,y + 128,"3. Oh, nevermind that."); 
    break; 
    
    case 5: 
    draw_text(x - 32,y + 32,"1. I take it the war has been very profitable?"); 
    draw_text(x - 32,y + 64,"2. Have you considered joining the army?"); 
    draw_text(x - 32,y + 128,"3. I have more questions."); 
    break; 
    
    case 11: 
    draw_text(x - 32,y + 32,"1. Give me all of your gold!"); 
    draw_text(x - 32,y + 64,"2. Die, merchant scum!"); 
    break; 
    
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
